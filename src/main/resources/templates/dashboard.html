<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">

    <title>Dashboard</title>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.26.0/moment-with-locales.min.js"
            integrity="sha256-4HOrwHz9ACPZBxAav7mYYlbeMiAL0h6+lZ36cLNpR+E=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"
            integrity="sha256-5YmaxAwMjIpMrVlK84Y/+NjCpKnFYa8bWWBbUHSBGfU=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"
            integrity="sha256-KM512VNnjElC30ehFwehXjx1YCHPiQkOPmqnrWtpccM=" crossorigin="anonymous"></script>
    <script type="text/javascript">
        $('#buttonPick').datepicker()
	    .on('changeDate', function(ev){
        $('#buttonPick').datepicker('hide');
        alert(ev.date.valueOf());
    });


    </script>


    <style>
        body {
  font-size: .875rem;
}

.feather {
  width: 16px;
  height: 16px;
  vertical-align: text-bottom;
}

/*
 * Sidebar
 */

.sidebar {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  z-index: 100; /* Behind the navbar */
  padding: 0;
  box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
}

.sidebar-sticky {
  position: -webkit-sticky;
  position: sticky;
  top: 48px; /* Height of navbar */
  height: calc(100vh - 48px);
  padding-top: .5rem;
  overflow-x: hidden;
  overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
}

.sidebar .nav-link {
  font-weight: 500;
  color: #333;
}

.sidebar .nav-link .feather {
  margin-right: 4px;
  color: #999;
}

.sidebar .nav-link.active {
  color: #007bff;
}

.sidebar .nav-link:hover .feather,
.sidebar .nav-link.active .feather {
  color: inherit;
}

.sidebar-heading {
  font-size: .75rem;
  text-transform: uppercase;
}

/*
 * Navbar
 */

.navbar-brand {
  padding-top: .75rem;
  padding-bottom: .75rem;
  font-size: 1rem;
  background-color: rgba(0, 0, 0, .25);
  box-shadow: inset -1px 0 0 rgba(0, 0, 0, .25);
}

.navbar .form-control {
  padding: .75rem 1rem;
  border-width: 0;
  border-radius: 0;
}

.form-control-dark {
  color: #fff;
  background-color: rgba(255, 255, 255, .1);
  border-color: rgba(255, 255, 255, .1);
}

.form-control-dark:focus {
  border-color: transparent;
  box-shadow: 0 0 0 3px rgba(255, 255, 255, .25);
}

/*
 * Utilities
 */

.border-top { border-top: 1px solid #e5e5e5; }
.border-bottom { border-bottom: 1px solid #e5e5e5; }








    </style>
</head>

<body>
<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">Анализ авиасообщений</a>
    <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
            <a class="nav-link" href="#">Выход</a>
        </li>
    </ul>
</nav>

<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <span data-feather="home"></span>
                            Статистика <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin">
                            <span data-feather="users"></span>
                            Управление пользователями
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Отчет.xslx" download="Отчет.xslx" class="nav-link">
                            <span data-feather="bar-chart-2"></span>
                            Отчет
                        </a>
                    </li>

                </ul>
            </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
                <h1 class="h2">Статистика</h1>

                <button class="btn btn-sm" onclick="myFunctionWeek()">
                    <span data-feather="calendar"></span>
                    Неделя
                </button>
                <button class="btn btn-sm" onclick="myFunctionMonth()">
                    <span data-feather="calendar"></span>
                    Месяц
                </button>
                <button class="btn btn-sm" onclick="myFunctionYear()">
                    <span data-feather="calendar"></span>
                    Год
                </button>
                <button class="btn btn-sm" onclick="myFunctionAllTime()">
                    <span data-feather="calendar"></span>
                    За все время
                </button>

            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Австрия
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <button class="dropdown-item" type="button">Албания</button>
                    <button class="dropdown-item" type="button">Белорусь</button>
                    <button class="dropdown-item" type="button">Бельгия</button>
                    <button class="dropdown-item" type="button">Болгария</button>
                    <button class="dropdown-item" type="button">Босния и Герцеговина</button>
                    <button class="dropdown-item" type="button">Великобритания</button>
                    <button class="dropdown-item" type="button">Венгрия</button>
                    <button class="dropdown-item" type="button">Германия</button>
                    <button class="dropdown-item" type="button">Дания</button>
                    <button class="dropdown-item" type="button">Испания</button>
                    <button class="dropdown-item" type="button">Италия</button>
                    <button class="dropdown-item" type="button">Канада</button>
                    <button class="dropdown-item" type="button">Латвия</button>
                    <button class="dropdown-item" type="button">Литва</button>
                    <button class="dropdown-item" type="button">Польша</button>
                    <button class="dropdown-item" type="button">Португалия</button>
                    <button class="dropdown-item" type="button">Россия</button>
                    <button class="dropdown-item" type="button">Словакия</button>
                    <button class="dropdown-item" type="button">США</button>
                    <button class="dropdown-item" type="button">Украина</button>
                    <button class="dropdown-item" type="button">Эстония</button>
                    <button class="dropdown-item" type="button">Япония</button>
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item" type="button">Something else here</button>
                </div>
            </div>

            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Антверпен
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item" type="button">Афины Элефтериос Венизелос (Athens Eleftherios Venizelos Int Airport)	Аликанте (Alicante Airport)</button>
                    <button class="dropdown-item" type="button">Амстердам Схипхол (Amsterdam Schiphol Airport)</button>
                    <button class="dropdown-item" type="button">Анталья (Antalya Airport)</button>
                    <button class="dropdown-item" type="button">БрюссельШарлеруа (Brussels South Charleroi Airport)</button>
                    <button class="dropdown-item" type="button">Будапешт Ференц Лист (Budapest Ferenc Liszt Int. Airport)</button>
                    <button class="dropdown-item" type="button">Берлин Тегель (Berlin Tegel Airport)</button>
                    <button class="dropdown-item" type="button">Бухарест Бэняса — Аурел Влайку (Bucharest Baneasa-Aurel Vlaicu International Airport)</button>
                    <button class="dropdown-item" type="button">Кардифф (Cardiff Airport)</button>
                    <button class="dropdown-item" type="button">Дублин (Dublin Airport)</button>
                    <button class="dropdown-item" type="button">Флоренция Перетола (Florence Peretola Airport)</button>
                    <button class="dropdown-item" type="button">Гамбург (HamburgAirport)</button>
                    <button class="dropdown-item" type="button">Карловы Вары (Karlovy Vary Airport)</button>
                    <button class="dropdown-item" type="button">Ливерпуль ДжонЛеннон (Liverpool John Lennon Airport)</button>
                    <button class="dropdown-item" type="button">Глостершир (Gloucestershire Airport)</button>
                    <button class="dropdown-item" type="button">Лондон Оксфорд (London Oxford Airport)</button>
                    <button class="dropdown-item" type="button">Лондон Сити (London City Airport)</button>
                </div>
            </div>

            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    SL6538
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <button class="dropdown-item" type="button">SL6538</button>
                    <button class="dropdown-item" type="button">PH9732</button>
                    <button class="dropdown-item" type="button">SU563</button>
                    <button class="dropdown-item" type="button">AA1023</button>
                    <button class="dropdown-item" type="button">BY0274</button>
                </div>
            </div>

            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Вена
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <button class="dropdown-item" type="button">Москва</button>
                    <button class="dropdown-item" type="button">Минск</button>
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item" type="button">Гомель</button>
                    <button class="dropdown-item" type="button">Гродно</button>
                    <button class="dropdown-item" type="button">Брест</button>
                    <button class="dropdown-item" type="button">Амстердам</button>
                    <button class="dropdown-item" type="button">Бостон</button>
                    <button class="dropdown-item" type="button">Лондон</button>
                    <button class="dropdown-item" type="button">Мюнхен</button>
                    <button class="dropdown-item" type="button">Берлин</button>
                    <button class="dropdown-item" type="button">Рим</button>
                    <button class="dropdown-item" type="button">Милан</button>
                    <button class="dropdown-item" type="button">Далас</button>
                    <button class="dropdown-item" type="button">Нью-Йорк</button>
                    <button class="dropdown-item" type="button">Кардиф</button>
                    <button class="dropdown-item" type="button">Мадрид</button>
                    <button class="dropdown-item" type="button">Париж</button>
                    <button class="dropdown-item" type="button">Екатеренбург</button>
                </div>
            </div>

            <canvas class="my-4" id="myChart" width="900" height="380"></canvas>

            <h2>Section title</h2>
            <div class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                    <tr>
                        <th>Order</th>
                        <th>ID</th>
                        <th>Number of passengers</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>1</td>
                        <td>ObjectId("5ec04637a17c797a6bef85e9")</td>
                        <td>2000</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>ObjectId("5ec04637a17c797a6bes285e9")</td>
                        <td>2567</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>ObjectId("5ec04637a17c797a6bef85e9")</td>
                        <td>2842</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>ObjectId("5ec04637a17c797a6dff85e9")</td>
                        <td>7483</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>ObjectId("5ec04637a1ds797a6dff85e9")</td>
                        <td>4483</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>ObjectId("5ec04637a1ds797a6dff85e9")</td>
                        <td>4123</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>ObjectId("5ec04624a17c797a6dff85e9")</td>
                        <td>7483</td>
                    </tr>
                    <tr>
                    <tr>
                        <td>8</td>
                        <td>ObjectId("5ec0463dsds797a6dff85e9")</td>
                        <td>4483</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>ObjectId("5ec046sda1ds797a6dff85e9")</td>
                        <td>6472</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>ObjectId("5ec04637a1ds97a6dff85e9")</td>
                        <td>5654</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>

<!-- Icons -->
<script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
<script>
      feather.replace()

</script>

<!-- Graphs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
</body>
<script>

    var array = []
    var array_data = []

    array = ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"]
    array_data = [15339, 21345, 18483, 24003, 23489, 24092, 12034]

    function myFunctionYear(){
        array = ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"]


        array_data = []
        for (var i=0, t=40; i<t; i++) {
            array_data.push(getRandomInt(1000000,5000000))
        }

        myFunction()
    }

    function myFunctionMonth(){
        array = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30"]

        array_data = []
        for (var i=0, t=40; i<t; i++) {
            array_data.push(getRandomInt(500000,100000))
        }

        myFunction()

        myFunction()
    }


    function myFunctionWeek(){
        array = ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"]

        array_data = []
        for (var i=0, t=40; i<t; i++) {
            array_data.push(getRandomInt(20000,100000))
        }

        myFunction()
    }

    function myFunctionAllTime(){
        array = ["2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020"]

        array_data = []
        for (var i=0, t=40; i<t; i++) {
            array_data.push(getRandomInt(10000000,700000000))
        }

        myFunction()
    }


      var ctx = document.getElementById("myChart");
      var myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: array,
          datasets: [{
            data: array_data,
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#007bff',
            borderWidth: 4,
            pointBackgroundColor: '#007bff'
          }]
        },
        options: {
          scales: {
            yAxes: [{
              ticks: {
                beginAtZero: false
              },
              scaleLabel: {
                 display: true,
                labelString: 'Количество пассажирова'
            }
            }]
          },
          legend: {
            display: false,
          }
        }
      });

    function myFunction(){


      var ctx = document.getElementById("myChart");
      var myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: array,
          datasets: [{
            data: array_data,
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#007bff',
            borderWidth: 4,
            pointBackgroundColor: '#007bff'
          }]
        },
        options: {
          scales: {
            yAxes: [{
              ticks: {
                beginAtZero: false
              },
              scaleLabel: {
                 display: true,
                labelString: 'Количество пассажирова'
            }
            }]
          },
          legend: {
            display: false,
          }
        }
      });
       }

   $(".dropdown-menu button").click(function(){
         array = ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"]

        array_data = []
        for (var i=0, t=40; i<t; i++) {
            array_data.push(getRandomInt(20000,100000))
        }

        myFunction()
        $(this).parents(".btn-group").find('.btn').text($(this).text());
        $(this).parents(".btn-group").find('btn').val($(this).text());
});

function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}


</script>
</html>
